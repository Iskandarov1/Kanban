@using Ilmhub.Spaces.Client.Models

<FluentCard Id="@($"lead-card-{Lead!.Id}")" Width="100%" Height="150px" draggable="true" @ondragstart="@(() => HandleDragStart(Lead))">
    
    <FluentStack Orientation="Orientation.Vertical">
        <FluentStack Orientation="Orientation.Horizontal">
            <FluentOverflow Style="width: 100%;">
                <FluentOverflowItem>
                    <FluentBadge Fill="Clear">@Lead!.Interest!.Category.ToString()</FluentBadge>
                    <FluentBadge Fill="Clear">@Lead!.Interest!.Level.ToString()</FluentBadge>
                </FluentOverflowItem>
            </FluentOverflow>
            <FluentBadge 
                Fill="Clear" 
                BackgroundColor="@GetStatusBackgroundColor(Lead!.Status)">
                @Lead!.Status.ToString()
            </FluentBadge>
        </FluentStack>
        <FluentSpacer/>
        <FluentLabel Typo="Typography.Header">@Lead!.Name</FluentLabel>
        <FluentSpacer/>
        <FluentStack Orientation="Orientation.Horizontal">
            <FluentLabel Color="Color.Disabled" Typo="Typography.Subject">#@Lead!.Source.ToString()!.ToLower()</FluentLabel>
            <FluentSpacer/>
            <FluentLabel Color="Color.Disabled" Typo="Typography.Subject">@((DateTime.Now - Lead.ModifiedAt).ToTimeAgo())</FluentLabel>
        </FluentStack>
    </FluentStack>
</FluentCard>

<FluentTooltip 
    Anchor="@($"lead-card-{Lead!.Id}")"
    Delay="300"
    MaxWidth="400px"
    Position="TooltipPosition.Top">@Lead.Notes</FluentTooltip>