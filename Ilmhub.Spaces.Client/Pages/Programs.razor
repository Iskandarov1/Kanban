@page "/programs"

<FluentDataGrid Items="@FilteredItems"
                ResizableColumns=true
                Pagination="@pagination"
                TGridItem="Course"
                OnRowFocus="HandleRowFocus"
                GridTemplateColumns="1fr 0.5fr 0.5fr 0.5fr 0.5fr 1fr"
                Style="height: 405px; overflow:auto;"
                ShowHover="true">
    <PropertyColumn Property="@(p => p.Name)" Title="Course Name" Sortable="true" IsDefaultSortColumn=true>
        <ColumnOptions>
            <div class="search-box">
                <FluentSearch type="search" Autofocus=true @bind-Value=nameFilter @oninput="HandleCourseFilter" AfterBindValue="HandleClear" Placeholder="Course name..." />
            </div>
        </ColumnOptions>
    </PropertyColumn>
    <PropertyColumn Property="@(p => p.Category)" Title="Category" Sortable="true" />
    <PropertyColumn Property="@(p => p.Level)" Title="Level" Sortable="true" />
    <PropertyColumn Property="@(p => (int)p.Duration.TotalMinutes)" Title="Duration (m)" Sortable="true" />
    <PropertyColumn Property="@(p => p.SessionsPerWeek)" Title="Sessions/Week" Sortable="true" />
    <PropertyColumn Property="@(p => p.Description)" Title="Description" />
</FluentDataGrid>

<FluentPaginator State="@pagination">
    <SummaryTemplate>
        There are <strong>@(pagination.TotalItemCount ?? 0)</strong> Courses
    </SummaryTemplate>
    <PaginationTextTemplate>
        Page <strong>@(pagination.CurrentPageIndex + 1)</strong> of <strong>@(pagination.LastPageIndex + 1)</strong>
    </PaginationTextTemplate>
</FluentPaginator>
